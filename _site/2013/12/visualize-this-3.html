<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="donglei" />
    
    <title>Visualize This 3 | 数据可视化笔记 3</title>
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="/atom.xml" rel="alternate" title="DongLei's Blog" type="application/atom+xml" />
    <link rel="stylesheet" href="/media/css/style.css">
    <link rel="stylesheet" href="/media/css/github.css">
    <link rel="stylesheet" href="/media/css/fontawesome.css">
    <script src="/media/js/jquery-1.7.1.min.js" type="text/javascript" charset="utf-8"></script>

    
    <!--highlight.js Start-->
        <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/mono-blue.min.css">
        <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
    <script>
      hljs.configure({tabReplace: '    '});
      hljs.initHighlightingOnLoad();
    </script>
    <!--highlight.js End-->
  
    <!--mathjax start-->
    <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <!--mathjax end-->

  </head>
  <body>
      <div id="main" role="main">
        <header>
          <div id="header">
            <h1><a title="DongLei's Blog" class="" href="/">DongLei's Blog</a></h1>
          </div>
          <nav>
            
            <span><a title="Archive" href="/archive.html"><i class="fa fa-list-ul"></i></a></span>
            
            <span><a title="Tags" href="/tags.html"><i class="fa fa-tags"></i></a></span>
            
            <span><a title="About" href="/about.html"><i class="fa fa-user"></i></a></span>
            
            <span><a title="Gallery" href="http://donglei.name"><i class="fa fa-film"></i></a></span>
            
            <span><a title="Toolkit" href="/toolkit.html"><i class="fa fa-link"></i></a></span>
            
            <span><a title="Subscribe" href="/atom.xml"><i class="fa fa-rss"></i></a></span>
            
          </nav>
        </header>
        <div id="content">
        <article>
  <section class="title">
    <h2>Visualize This 3 | 数据可视化笔记 3 </h2>
  </section>

  <section class="meta">
  <span class="time">
    <time datetime="2013-12-21">2013-12-21</time>
  </span>

  
  <span class="tags">
    
    <a href="/tags.html#Data" title="Data">#Data</a>
    
    <a href="/tags.html#Visualization" title="Visualization">#Visualization</a>
    
    <a href="/tags.html#R" title="R">#R</a>
    
  </span> 
  

  </section>
  <section class="post">
  <h3>一、饼图+</h3>

<p>这次让我们试PPT中经常出现的饼图。</p>

<p>饼图一般用来<strong>展示各部分在总体中所占的百分比，适用于数据不多的情况</strong>。虽然饼图大家用的非常多，但通常是从EXCEL中直接生成，用好的并不常见，因为大家容易忽视几个问题：</p>

<ol>
<li><p><strong>饼图的中心点区域线和颜色过于集中，不利于视觉舒适</strong>。</p></li>
<li><p>EXCEL默认的饼图配色大家见的太多后容易审美疲劳。我们可以用一种饼图的变体来解决一下上面的问题，“面包圈”图闪亮登场。</p></li>
</ol>


<p><img src="/media/files/2013/12/bingtu.png" alt="bingtu" /></p>

<p>资料来源：TU DelftX</p>

<p>我们可以看到，面包圈图比饼图可以放相对更多的数据而不会在中心产生过度集中现象，没有了中心集中，也有利于颜色的搭配。这种图制作也非常简单，在原来的饼图中间画个白色的圆形就行了：）</p>

<h3>二、HeatMap</h3>

<p>有时候数据指标比较多的情况下，很难用简单的图表来表达，这时候可以试试HeatMap，可以在二维平面上展示矩阵形式的数据。在这个例子里我们还是用到了NBA数据，简单说就是展示了不同球员的各项指标，于之前文章中提到的“脸图”不同，这种展示方式数据更加直观。在本例中洋红到浅蓝表示数据值由高到低。</p>

<p><img src="/media/files/2013/12/heatmap.png" alt="heatmap" /></p>

<pre><code>bball &lt;- read.csv("http://datasets.flowingdata.com/ppg2008.csv", header = TRUE)

bball &lt;- bball[order(bball$PTS, decreasing = FALSE),]  #按得分PTS 降序排列数据

row.names(bball) &lt;- bball$Name 
ball &lt;- bball[, 2:20]

bball_matrix &lt;- data.matrix(bball) #数据必须转成矩阵型

bball_heatmap &lt;- heatmap(bball_matrix, Rowv=NA, Colv = NA, 
                col = cm.colors(256), scale="column", margins = c(5,10))    #cm.colors(256)表示从洋红到蓝（cm是cmyk里的两个词）
</code></pre>

<p>注：代码及数据来源<Visualize This>一书</p>

<p>断断续续写到第三篇笔记了，想列了提纲，看看以后可以写点啥，也欢迎大家多多补充。</p>

<ul>
<li>0、用到的软件的最基本介绍</li>
<li>1、动态数据表达（1，2）</li>
<li>2、数据收集方式</li>
<li>3、数据整理方式及工具（1，2）</li>
<li>4、与地理信息相关的图形表达（1，2，3）</li>
</ul>


  </section>
  <div class="divider">
    <span>
    
    <a href="/2013/12/kindle-clippings.html"><i class="fa fa-chevron-left"></i></a>
    
    </span>

    <span>
    
    <a href="/2013/12/beliefs-affect-you.html"><i class="fa fa-chevron-right"></i></a>
    
    </span>
  </div>
  <div class="comment">
      
          
          <div class="ds-thread"></div>
          
      
  </div>  
</article>

        </div>
        <footer>
          <div>
            
            &copy; 2013 ~ 2014 donglei | powered by jekyll | themed by <a href="http://lhzhang.com" title="sext vi">sext vi</a>
          </div>
        </footer>
      </div> <!-- main -->

      <!--Comment Start-->
      <script src="/media/js/jquery-1.7.1.min.js" type="text/javascript" charset="utf-8"></script>
      
            
                
                <script type="text/javascript">
                    var duoshuoQuery = {short_name:"donglei"};
                    (function() {
                        var ds = document.createElement('script');
                        ds.type = 'text/javascript';ds.async = true;
                        ds.src = 'http://static.duoshuo.com/embed.js';
                        ds.charset = 'UTF-8';
                        (document.getElementsByTagName('head')[0]
                        || document.getElementsByTagName('body')[0]).appendChild(ds);
                    })();
                </script>
                
            
        
      <!--Comment End-->

    <!--Google Analytics Start-->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-44607213-2', 'auto');
      ga('send', 'pageview');

    </script>
    <!--Google Analytics End-->

  </body>
</html>
